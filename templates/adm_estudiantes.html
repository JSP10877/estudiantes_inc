<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adm.Estudiantes</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="{{ url_for('static', filename='estilos/style.css') }}">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</head>

<body>

    <header>
        <div id="logo">
            <img src="{{ url_for('static', filename='imagenes/logotipo.png') }}" alt="logo">
        </div>
        <nav>
            <ul>
                <li><a href="{{ url_for('index') }}">Inicio</a></li>
                <li><a href="{{ url_for('registro_estudiantes') }}">Registro estudiantes</a></li>
                <li><a href="{{ url_for('adm_estudiantes') }}">Admi. estudiantes</a></li>
            </ul>
        </nav>
    </header>

    <div id="barra_de_busqueda" class="container mt-3">
        <form method="GET" action="{{ url_for('buscar_estudiantes') }}">
            <div class="input-group">
                <input type="text" class="form-control" id="termino_busqueda" name="termino" placeholder="Escriba el nombre, correo o cÃ³digo del estudiante">
                <button class="btn btn-outline-secondary" type="submit">
                    <img src="{{ url_for('static', filename='imagenes/lupa_estu.png') }}" alt="Buscar">
                </button>
                <div class="icono_2 ms-2">
                    <img src="{{ url_for('static', filename='imagenes/filtro_busqueda.png')}}" alt="Filtro de busqueda">
                </div>
            </div>
        </form>
    </div>

    <div id="contenedor_estudiantes" class="container mt-4">
        {% if not estudiantes %}
            <p>No se encontraron estudiantes.</p>
        {% else %}
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                {% for estudiante in estudiantes %}
                <div class="col">
                    <div class="card">
                        <div class="foto_admi_estudiante" style="background-image:url('{{ estudiante[7] }}'); height: 200px; background-size: cover; background-position: center;"></div>
                        <div class="card-body">
                            <h5 class="card-title">{{ estudiante[1] }} {{ estudiante[2] or '' }} {{ estudiante[3] }} {{ estudiante[4] or '' }}</h5>
                            <p class="card-text"><small class="text-muted">Correo: {{ estudiante[5] }}</small></p>
                            <p class="card-text"><small class="text-muted">Carrera: {{ estudiante[6] }} (ID: {{ estudiante[8] }})</small></p>
                            <div class="botones_principales mt-3">
                                <div class="action-icons d-flex justify-content-around">
                                    <a href="{{ url_for('detalles_estudiantes', id_estudiante=estudiante[0]) }}" class="btn btn-sm btn-info">
                                        <img src="{{ url_for('static', filename='imagenes/detalles_estu.png') }}" alt="Detalles" style="max-width: 24px;"> Detalles
                                    </a>
                                    <a href="{{ url_for('editar_estudiante', id_estudiante=estudiante[0]) }}" class="btn btn-sm btn-warning">
                                        <img src="{{ url_for('static', filename='imagenes/editar.png') }}" alt="Editar" style="max-width: 24px;"> Editar
                                    </a>
                                    <a href="{{ url_for('eliminar_estudiante', id_estudiante=estudiante[0]) }}" class="btn btn-sm btn-danger">
                                        <img src="{{ url_for('static', filename='imagenes/eliminar_estu.png') }}" alt="Deshabilitar" style="max-width: 24px;"> Eliminar
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        {% endif %}
    </div>

</body>
</html>